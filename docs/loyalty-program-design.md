# ğŸ† TravelCar Miles â€” ChÆ°Æ¡ng TrÃ¬nh KhÃ¡ch HÃ ng ThÃ¢n Thiáº¿t

## Tá»•ng Quan
ChÆ°Æ¡ng trÃ¬nh "TravelCar Miles" láº¥y cáº£m há»©ng tá»« mÃ´ hÃ¬nh **Frequent Flyer** cá»§a hÃ ng khÃ´ng â€”
tÃ­ch lÅ©y km theo má»—i chuyáº¿n xe, thÄƒng háº¡ng tá»± Ä‘á»™ng, nháº­n Æ°u Ä‘Ã£i ngÃ y cÃ ng háº¥p dáº«n.

---

## ğŸ¯ 5 Háº¡ng Tháº» ThÃ nh ViÃªn

| Háº¡ng | TÃªn | Icon | KM tÃ­ch lÅ©y | MÃ u tháº» |
|------|-----|------|-------------|---------|
| 1 | **Báº¡n Äá»“ng HÃ nh** | ğŸ›£ï¸ | 0 â€“ 500 km | XÃ¡m báº¡c |
| 2 | **KhÃ¡m PhÃ¡** | ğŸ§­ | 500 â€“ 2.000 km | Xanh dÆ°Æ¡ng |
| 3 | **PhiÃªu LÆ°u** | â›°ï¸ | 2.000 â€“ 5.000 km | Xanh lÃ¡ |
| 4 | **Tinh TÃº** | â­ | 5.000 â€“ 15.000 km | VÃ ng gold |
| 5 | **Triá»‡u Dáº·m** | ğŸ’ | 15.000+ km | TÃ­m diamond |

---

## ğŸ’° Æ¯u ÄÃ£i Theo Háº¡ng

### Háº¡ng 1: Báº¡n Äá»“ng HÃ nh (0-500 km)
- TÃ­ch 1 Ä‘iá»ƒm/km
- Nháº­n mÃ£ giáº£m 5% cho chuyáº¿n thá»© 2
- Miá»…n phÃ­ nÆ°á»›c uá»‘ng trÃªn xe

### Háº¡ng 2: KhÃ¡m PhÃ¡ (500-2.000 km)
- TÃ­ch 1.2 Ä‘iá»ƒm/km (x1.2 bonus)
- Giáº£m 8% má»i chuyáº¿n xe
- Æ¯u tiÃªn ghÃ©p xe nhanh
- Free upgrade 4 chá»— â†’ 7 chá»— (khi cÃ²n xe, 1 láº§n/thÃ¡ng)
- QuÃ  sinh nháº­t: voucher 200.000Ä‘

### Háº¡ng 3: PhiÃªu LÆ°u (2.000-5.000 km)
- TÃ­ch 1.5 Ä‘iá»ƒm/km (x1.5 bonus)
- Giáº£m 12% má»i chuyáº¿n xe
- Free cancel trÆ°á»›c 2 tiáº¿ng
- Æ¯u tiÃªn tÃ i xáº¿ 5 sao
- Táº·ng 1 chuyáº¿n sÃ¢n bay/quÃ½
- QuÃ  sinh nháº­t: voucher 500.000Ä‘

### Háº¡ng 4: Tinh TÃº (5.000-15.000 km)
- TÃ­ch 2 Ä‘iá»ƒm/km (x2 bonus)
- Giáº£m 18% má»i chuyáº¿n xe
- Hotline VIP riÃªng, Æ°u tiÃªn tuyá»‡t Ä‘á»‘i
- Free upgrade xe sang (khi cÃ³ sáºµn)
- Táº·ng 2 chuyáº¿n sÃ¢n bay/quÃ½
- Má»i tham gia sá»± kiá»‡n exclusive
- QuÃ  sinh nháº­t: voucher 1.000.000Ä‘ + quÃ  táº·ng

### Háº¡ng 5: Triá»‡u Dáº·m (15.000+ km)
- TÃ­ch 3 Ä‘iá»ƒm/km (x3 bonus)
- Giáº£m 25% má»i chuyáº¿n xe
- Xe VIP chuyÃªn dá»¥ng, tÃ i xáº¿ riÃªng
- Free cancel báº¥t kÃ¬ lÃºc nÃ o
- Concierge service cÃ¡ nhÃ¢n
- Má»i du lá»‹ch tráº£i nghiá»‡m miá»…n phÃ­ 1 láº§n/nÄƒm
- QuÃ  sinh nháº­t: voucher 2.000.000Ä‘ + quÃ  táº·ng cao cáº¥p
- VÃ© sá»± kiá»‡n VIP + Ä‘á»‘i tÃ¡c

---

## ğŸ§  Logic KÃ­ch Cáº§u TiÃªu DÃ¹ng

### 1. Hiá»‡u á»©ng "Gáº§n cháº¡m má»‘c" (Near-Miss Effect)
```
"Báº¡n chá»‰ cÃ²n 127 km ná»¯a Ä‘á»ƒ lÃªn háº¡ng KhÃ¡m PhÃ¡! ğŸ§­"
"ThÃªm 1 chuyáº¿n SÃ i GÃ²n - VÅ©ng TÃ u lÃ  Ä‘á»§!"
```
â†’ Hiá»ƒn thá»‹ progress bar trá»±c quan, táº¡o cáº£m giÃ¡c "gáº§n tá»›i rá»“i, Ä‘i thÃªm 1 chuyáº¿n ná»¯a thÃ´i"

### 2. Æ¯u Ä‘Ã£i tÄƒng tá»‘c (Accelerator)
```
"ğŸ”¥ Tuáº§n nÃ y: x2 km cho má»i chuyáº¿n xe!"
"Äáº·t xe trÆ°á»›c 15/3 nháº­n x3 km tÃ­ch lÅ©y"
```
â†’ Flash sale Ä‘iá»ƒm vÃ o dá»‹p lá»…, cuá»‘i tuáº§n, mÃ¹a tháº¥p Ä‘iá»ƒm â†’ kÃ­ch cáº§u off-peak

### 3. Äiá»ƒm sáº¯p háº¿t háº¡n (Point Expiration)
```
"âš ï¸ 1.200 km cá»§a báº¡n sáº½ háº¿t háº¡n trong 30 ngÃ y!"
"Äáº·t 1 chuyáº¿n xe Ä‘á»ƒ gia háº¡n tá»± Ä‘á»™ng"
```
â†’ KM háº¿t háº¡n sau 12 thÃ¡ng khÃ´ng hoáº¡t Ä‘á»™ng â†’ táº¡o urgency quay láº¡i

### 4. QuÃ  giá»›i thiá»‡u (Referral Bonus)
```
"Giá»›i thiá»‡u báº¡n bÃ¨: +200 km cho cáº£ 2!"
```
â†’ Viral loop: khÃ¡ch cÅ© giá»›i thiá»‡u khÃ¡ch má»›i, cáº£ 2 Ä‘á»u nháº­n km

### 5. Thá»­ thÃ¡ch hÃ ng thÃ¡ng (Monthly Challenge)
```
"ğŸ† HoÃ n thÃ nh 3 chuyáº¿n trong thÃ¡ng 3 â†’ +500 km bonus!"
```
â†’ Gamification: táº¡o thÃ³i quen Ä‘áº·t xe Ä‘á»u Ä‘áº·n

### 6. Æ¯u Ä‘Ã£i cháº·ng cá»¥ thá»ƒ (Route Incentive)
```
"Chuyáº¿n Ä‘i ÄÃ  Láº¡t tuáº§n nÃ y Ä‘Æ°á»£c x2 km + giáº£m 15%"
```
â†’ KÃ­ch cáº§u cÃ¡c tuyáº¿n cÃ³ xe trá»‘ng, cÃ¢n báº±ng cung-cáº§u

### 7. Äá»•i Ä‘iá»ƒm linh hoáº¡t (Point Redemption)
- 1.000 Ä‘iá»ƒm = Giáº£m 100.000Ä‘
- 3.000 Ä‘iá»ƒm = 1 chuyáº¿n sÃ¢n bay miá»…n phÃ­
- 5.000 Ä‘iá»ƒm = Upgrade VIP trá»n ngÃ y
- 10.000 Ä‘iá»ƒm = Tour du lá»‹ch trá»n gÃ³i (Ä‘á»‘i tÃ¡c)
â†’ Cho khÃ¡ch hÃ ng tháº¥y giÃ¡ trá»‹ cá»¥ thá»ƒ cá»§a viá»‡c tÃ­ch lÅ©y

### 8. Status Anxiety (Sá»£ máº¥t háº¡ng)
```
"Háº¡ng Tinh TÃº â­ cá»§a báº¡n cáº§n 500 km trong 3 thÃ¡ng tá»›i Ä‘á»ƒ duy trÃ¬"
```
â†’ Duy trÃ¬ háº¡ng yÃªu cáº§u hoáº¡t Ä‘á»™ng, khÃ´ng pháº£i chá»‰ Ä‘áº¡t má»™t láº§n

---

## ğŸ“Š Báº£ng Quy Äá»•i Äiá»ƒm

| HÃ nh Ä‘á»™ng | Äiá»ƒm nháº­n |
|-----------|-----------|
| 1 km di chuyá»ƒn | 1-3 Ä‘iá»ƒm (theo háº¡ng) |
| ÄÃ¡nh giÃ¡ 5 sao | +50 Ä‘iá»ƒm |
| Giá»›i thiá»‡u báº¡n bÃ¨ | +200 Ä‘iá»ƒm |
| Sinh nháº­t | +100 Ä‘iá»ƒm |
| Chia sáº» story MXH | +30 Ä‘iá»ƒm |
| HoÃ n thÃ nh challenge | +500 Ä‘iá»ƒm |

---

## ğŸ—„ï¸ Database Schema (Supabase)

### Báº£ng `loyalty_members`
```sql
CREATE TABLE loyalty_members (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  phone TEXT UNIQUE NOT NULL,
  name TEXT,
  tier TEXT DEFAULT 'companion' CHECK (tier IN ('companion','explorer','adventurer','star','diamond')),
  total_km DECIMAL DEFAULT 0,
  current_points INTEGER DEFAULT 0,
  lifetime_points INTEGER DEFAULT 0,
  tier_expires_at TIMESTAMPTZ,
  last_activity_at TIMESTAMPTZ DEFAULT NOW(),
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### Báº£ng `loyalty_transactions`
```sql
CREATE TABLE loyalty_transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  member_id UUID REFERENCES loyalty_members(id),
  type TEXT CHECK (type IN ('earn','redeem','expire','bonus','referral')),
  points INTEGER NOT NULL,
  km DECIMAL DEFAULT 0,
  description TEXT,
  booking_id UUID,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```
