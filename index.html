<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelCar ‚Äî ƒê·∫∑t Xe Du L·ªãch Nhanh Ch√≥ng, Gi√° R·∫ª & An To√†n 100%</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="N·ªÅn t·∫£ng ƒë·∫∑t xe du l·ªãch chuy√™n nghi·ªáp t·∫°i Vi·ªát Nam. Thu√™ xe 4 ch·ªó, 7 ch·ªó, Limousine cao c·∫•p v√† xe kh√°ch t·ª´ 16-45 ch·ªó. Gi√° c·∫£ minh b·∫°ch, t√†i x·∫ø chuy√™n nghi·ªáp.">
    <meta name="keywords"
        content="ƒë·∫∑t xe du l·ªãch, thu√™ xe 4 ch·ªó, thu√™ xe 7 ch·ªó, thu√™ limousine, thu√™ xe kh√°ch, xe ti·ªán chuy·∫øn, xe gh√©p">
    <meta name="author" content="TravelCar Vietnam">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://travelcar.vn/">
    <meta property="og:title" content="TravelCar ‚Äî N·ªÅn T·∫£ng Booking Xe Du L·ªãch H√†ng ƒê·∫ßu">
    <meta property="og:description"
        content="N·ªÅn t·∫£ng ƒë·∫∑t xe du l·ªãch chuy√™n nghi·ªáp t·∫°i Vi·ªát Nam. Gi√° c·∫£ minh b·∫°ch, t√†i x·∫ø chuy√™n gia.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=1200&q=80">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://travelcar.vn/">
    <meta property="twitter:title" content="TravelCar ‚Äî ƒê·∫∑t Xe Du L·ªãch Nhanh Ch√≥ng & An To√†n">
    <meta property="twitter:description"
        content="N·ªÅn t·∫£ng ƒë·∫∑t xe du l·ªãch chuy√™n nghi·ªáp t·∫°i Vi·ªát Nam. Gi√° c·∫£ minh b·∫°ch.">
    <meta property="twitter:image" content="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=1200&q=80">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "TravelCar",
      "url": "https://travelcar.vn/",
      "description": "N·ªÅn t·∫£ng ƒë·∫∑t xe du l·ªãch h√†ng ƒë·∫ßu Vi·ªát Nam"
    }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!-- NAV -->
    <nav>
        <a href="index.html" class="logo">Travel<span>Car</span></a>

        <div class="nav-links">
            <a href="#booking-section" class="nav-item">ƒê·∫∑t xe</a>
            <a href="#pricing-section" class="nav-item">B·∫£ng gi√°</a>
            <a href="#vehicles-section" class="nav-item">Lo·∫°i xe</a>
            <a href="#routes-section" class="nav-item">Tuy·∫øn ƒë∆∞·ªùng</a>
            <a href="about.html" class="nav-item">V·ªÅ ch√∫ng t√¥i</a>
            <a href="travel-guide.html" class="nav-item">C·∫©m nang</a>
            <a href="#booking-section" class="btn-nav-cta mobile-only">ƒê·∫∑t xe ngay</a>
        </div>

        <div class="nav-actions">
            <a href="#booking-section" class="btn-nav-cta desktop-only">ƒê·∫∑t xe ngay</a>

            <!-- User Avatar -->
            <div class="nav-user" id="nav-user">
                <button class="user-avatar" id="user-avatar-btn" title="Menu t√†i kho·∫£n" onclick="toggleUserMenu()">
                    <i class="fas fa-user"></i>
                </button>
                <div class="user-dropdown" id="user-dropdown">
                    <div class="user-dropdown-header" id="dropdown-header">
                        <div class="user-dropdown-name">ƒêƒÉng nh·∫≠p</div>
                        <div class="user-dropdown-role">Kh√°ch</div>
                    </div>
                    <div class="user-dropdown-body" id="dropdown-logged-out">
                        <a href="admin.html"><i class="fas fa-sign-in-alt"></i> ƒêƒÉng nh·∫≠p Admin</a>
                        <a href="driver-dashboard.html"><i class="fas fa-steering-wheel"></i> T√†i x·∫ø Dashboard</a>
                    </div>
                    <div class="user-dropdown-body" id="dropdown-logged-in" style="display:none">
                        <a href="admin.html"><i class="fas fa-gauge-high"></i> Dashboard</a>
                        <a href="admin.html#bookings"><i class="fas fa-calendar-check"></i> Qu·∫£n l√Ω ƒë∆°n</a>
                        <a href="admin.html#drivers"><i class="fas fa-id-card"></i> Qu·∫£n l√Ω t√†i x·∫ø</a>
                        <div class="user-dropdown-divider"></div>
                        <a href="#"><i class="fas fa-user-circle"></i> T√†i kho·∫£n</a>
                        <a href="#"><i class="fas fa-gift"></i> ƒêi·ªÉm th∆∞·ªüng <span class="points-badge">120
                                pts</span></a>
                        <a href="#"><i class="fas fa-gear"></i> C√†i ƒë·∫∑t</a>
                        <div class="user-dropdown-divider"></div>
                        <a href="#" onclick="doAdminLogout()" class="logout-link"><i class="fas fa-sign-out-alt"></i>
                            ƒêƒÉng xu·∫•t</a>
                    </div>
                </div>
            </div>

            <button class="hamburger" aria-label="Menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <!-- HERO -->
    <section class="hero" id="booking-section">
        <div class="hero-bg-image">
            <img src="images/hero-car.png" alt="TravelCar" loading="eager">
        </div>
        <div class="hero-content">
            <div class="hero-text">
                <h1>ƒê·∫∑t Xe Du L·ªãch<br><span>Nhanh Ch√≥ng & An To√†n</span></h1>
                <p>D·ªãch v·ª• cho thu√™ xe du l·ªãch chuy√™n nghi·ªáp h√†ng ƒë·∫ßu. ƒêa d·∫°ng lo·∫°i xe t·ª´ 4 ƒë·∫øn 7 ch·ªó, t√†i x·∫ø kinh
                    nghi·ªám, gi√° c·∫£ minh b·∫°ch ‚Äî h·ªá th·ªëng matching t·ª± ƒë·ªông gh√©p xe g·∫ßn nh·∫•t.</p>
                <div class="hero-stats">
                    <div class="hero-stat">‚≠ê 4.9/5 t·ª´ 12,000+ ƒë√°nh gi√°
                    </div>
                    <div class="hero-stat">üë• 500,000+ kh√°ch h√†ng</div>
                </div>
            </div>

            <!-- BOOKING FORM -->
            <div class="booking-card">
                <h3>ƒê·∫∑t xe nhanh</h3>
                <form id="booking-form">
                    <div class="form-group">
                        <label for="pickup">ƒêi·ªÉm ƒë√≥n</label>
                        <input type="text" id="pickup" name="pickup" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ ƒë√≥n..." required>
                    </div>
                    <div class="form-group">
                        <label for="dropoff">ƒêi·ªÉm ƒë·∫øn</label>
                        <input type="text" id="dropoff" name="dropoff" placeholder="Nh·∫≠p ƒëi·ªÉm ƒë·∫øn..." required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date-go">Ng√†y ƒëi</label>
                            <input type="date" id="date-go" name="date_go" required>
                        </div>
                        <div class="form-group">
                            <label for="date-return">Ng√†y v·ªÅ</label>
                            <input type="date" id="date-return" name="date_return">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicle-select">Lo·∫°i xe</label>
                            <select id="vehicle-select" name="vehicle_type">
                                <!-- Populated by JS from config -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="distance-input">Kho·∫£ng c√°ch (km)</label>
                            <input type="number" id="distance-input" name="distance_km" placeholder="VD: 310" min="1">
                        </div>
                    </div>
                    <div id="price-estimate" class="price-estimate"></div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customer-name">H·ªç t√™n</label>
                            <input type="text" id="customer-name" name="customer_name" placeholder="Nguy·ªÖn VƒÉn A"
                                required>
                        </div>
                        <div class="form-group">
                            <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
                            <input type="tel" id="phone" name="phone" placeholder="0901 234 567" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-book">ƒê·∫∑t xe ngay</button>
                </form>
            </div>
        </div>
    </section>

    <!-- PHOTO SHOWCASE -->
    <section class="photo-showcase">
        <div class="showcase-grid">
            <div class="showcase-item showcase-large">
                <img src="images/family-travel.png" alt="Gia ƒë√¨nh du l·ªãch ƒê√† L·∫°t c√πng TravelCar" loading="lazy">
                <div class="showcase-caption">
                    <span class="showcase-tag">Du l·ªãch gia ƒë√¨nh</span>
                    <h3>ƒê√† L·∫°t &amp; T√¢y Nguy√™n</h3>
                    <p>Xe 7 ch·ªó r·ªông r√£i, an to√†n cho c·∫£ nh√†</p>
                </div>
            </div>
            <div class="showcase-item">
                <img src="images/vip-pickup.png" alt="ƒê√≥n kh√°ch VIP t·∫°i s√¢n bay" loading="lazy">
                <div class="showcase-caption">
                    <span class="showcase-tag">ƒê√≥n s√¢n bay</span>
                    <h3>D·ªãch v·ª• VIP</h3>
                </div>
            </div>
            <div class="showcase-item">
                <img src="images/enterprise-fleet.png" alt="ƒê·ªôi xe doanh nghi·ªáp TravelCar" loading="lazy">
                <div class="showcase-caption">
                    <span class="showcase-tag">Doanh nghi·ªáp</span>
                    <h3>Cho thu√™ d√†i h·∫°n</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- TRUST BAR -->
    <div class="trust-bar" id="trust-bar">
        <!-- Rendered by JS -->
    </div>

    <!-- PRICING SECTION -->
    <section class="section" id="pricing-section">
        <div class="section-header">
            <span class="pill">üí∞ B·∫£ng gi√° minh b·∫°ch</span>
            <h2>C∆° C·∫•u Gi√° Theo C·ª± Ly</h2>
            <p>Gi√° ƒë∆∞·ª£c t√≠nh theo kho·∫£ng c√°ch, kh√¥ng c√≥ chi ph√≠ ·∫©n</p>
        </div>

        <!-- Pricing Tiers -->
        <div id="pricing-tiers" class="pricing-tiers-grid">
            <!-- Rendered by JS -->
        </div>

        <!-- Interactive Calculator -->
        <div class="calc-container">
            <div class="calc-header">
                <h3><i class="fas fa-calculator"></i> T√≠nh gi√° chuy·∫øn ƒëi</h3>
                <div class="calc-vehicle-selector">
                    <button class="calc-vehicle-btn active" data-vehicle="sedan-4"><i class="fas fa-car"></i> 4
                        ch·ªó</button>
                    <button class="calc-vehicle-btn" data-vehicle="suv-7"><i class="fas fa-van-shuttle"></i> 7
                        ch·ªó</button>
                </div>
            </div>
            <div class="calc-body">
                <div class="calc-slider-group">
                    <label for="calc-distance">Kho·∫£ng c√°ch</label>
                    <input type="range" id="calc-distance" min="10" max="500" value="150" step="5">
                    <div class="calc-slider-labels">
                        <span>10 km</span>
                        <span id="calc-km-display" class="calc-km-value">150 km</span>
                        <span>500 km</span>
                    </div>
                </div>
                <div class="calc-result">
                    <div class="calc-total-label">T·ªïng chi ph√≠ ∆∞·ªõc t√≠nh</div>
                    <div id="calc-total" class="calc-total">0 ‚Ç´</div>
                    <div class="calc-rate-label">M·ª©c gi√° hi·ªán t·∫°i: <span id="calc-rate">15,000 ‚Ç´/km</span></div>
                </div>
                <div id="calc-breakdown" class="calc-breakdown">
                    <!-- Rendered by JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- VEHICLES SECTION -->
    <section class="section" id="vehicles-section">
        <div class="section-header">
            <span class="pill">üöó ƒê·ªôi xe</span>
            <h2>Lo·∫°i Xe D·ªãch V·ª•</h2>
            <p>Ch·ªçn lo·∫°i xe ph√π h·ª£p v·ªõi nhu c·∫ßu c·ªßa b·∫°n</p>
        </div>
        <div id="vehicle-grid" class="vehicle-grid">
            <!-- Rendered by JS -->
        </div>
    </section>

    <!-- ROUTES SECTION -->
    <section class="section" id="routes-section">
        <div class="section-header">
            <span class="pill">üìç Tuy·∫øn ph·ªï bi·∫øn</span>
            <h2>Tuy·∫øn ƒê∆∞·ªùng Ph·ªï Bi·∫øn</h2>
            <p>Click ƒë·ªÉ ƒë·∫∑t xe nhanh cho c√°c tuy·∫øn y√™u th√≠ch</p>
        </div>
        <div id="routes-grid" class="routes-grid">
            <!-- Rendered by JS -->
        </div>
    </section>

    <!-- ENTERPRISE / CHO THU√ä XE DOANH NGHI·ªÜP -->
    <section class="section enterprise-section" id="enterprise-section">
        <div class="section-header">
            <span class="pill">üè¢ Doanh nghi·ªáp</span>
            <h2>Cho Thu√™ Xe Doanh Nghi·ªáp</h2>
            <p>H·ª£p ƒë·ªìng d√†i h·∫°n t·ª´ 3 nƒÉm ‚Äî cung c·∫•p xe m·ªõi theo nhu c·∫ßu ‚Äî t√†i x·∫ø chuy√™n nghi·ªáp ri√™ng</p>
        </div>

        <div class="enterprise-highlight">
            <div class="enterprise-badge"><i class="fas fa-crown"></i></div>
            <h3>Gi·∫£i ph√°p di chuy·ªÉn to√†n di·ªán cho t·ªï ch·ª©c & doanh nghi·ªáp</h3>
            <p>Kh√¥ng ch·ªâ thu√™ xe ‚Äî ch√∫ng t√¥i <strong>s·∫µn s√†ng mua xe m·ªõi</strong> theo y√™u c·∫ßu c·ªßa kh√°ch h√†ng: ch·ªçn
                h√£ng, ch·ªçn m√†u phong th·ªßy, n·ªôi th·∫•t t√πy ch·ªânh. H·ª£p ƒë·ªìng t·ª´ 3 nƒÉm v·ªõi m·ª©c gi√° ∆∞u ƒë√£i ƒë·∫∑c bi·ªát.</p>
        </div>

        <div class="enterprise-grid">
            <div class="enterprise-card">
                <div class="enterprise-icon"><i class="fas fa-user-tie"></i></div>
                <h4>ƒê∆∞a ƒë√≥n l√£nh ƒë·∫°o</h4>
                <p>Xe sang, t√†i x·∫ø c·ªë ƒë·ªãnh, ƒë√∫ng gi·ªù tuy·ªát ƒë·ªëi. Ph·ª•c v·ª• CEO, ban gi√°m ƒë·ªëc, c·ªï ƒë√¥ng h√†ng ng√†y.</p>
            </div>
            <div class="enterprise-card">
                <div class="enterprise-icon"><i class="fas fa-globe"></i></div>
                <h4>ƒê√≥n chuy√™n gia n∆∞·ªõc ngo√†i</h4>
                <p>T√†i x·∫ø giao ti·∫øp Anh/Trung/Nh·∫≠t/H√†n. ƒê∆∞a ƒë√≥n s√¢n bay, kh√°ch s·∫°n, nh√† m√°y, meeting room.</p>
            </div>
            <div class="enterprise-card">
                <div class="enterprise-icon"><i class="fas fa-building"></i></div>
                <h4>H·ª£p ƒë·ªìng d√†i h·∫°n</h4>
                <p>Cam k·∫øt t·ª´ 3 nƒÉm. Xe m·ªõi 100%, b·∫£o tr√¨ ƒë·ªãnh k·ª≥, thay xe backup khi c·∫ßn. Chi ph√≠ ·ªïn ƒë·ªãnh.</p>
            </div>
            <div class="enterprise-card">
                <div class="enterprise-icon"><i class="fas fa-handshake"></i></div>
                <h4>Kh√°ch VIP & S·ª± ki·ªán</h4>
                <p>ƒê·ªôi xe ph·ª•c v·ª• h·ªôi ngh·ªã, tri·ªÉn l√£m, ƒë√°m c∆∞·ªõi. Limousine, xe sang 4-7-16 ch·ªó t√πy quy m√¥.</p>
            </div>
        </div>

        <div class="enterprise-features">
            <div class="ef-item"><i class="fas fa-check"></i> Xe m·ªõi 100% mua theo y√™u c·∫ßu kh√°ch</div>
            <div class="ef-item"><i class="fas fa-check"></i> Ch·ªçn h√£ng xe, m√†u s·∫Øc, n·ªôi th·∫•t t√πy √Ω</div>
            <div class="ef-item"><i class="fas fa-check"></i> T√†i x·∫ø chuy√™n nghi·ªáp c·ªë ƒë·ªãnh su·ªët h·ª£p ƒë·ªìng</div>
            <div class="ef-item"><i class="fas fa-check"></i> B·∫£o tr√¨, b·∫£o hi·ªÉm, xƒÉng d·∫ßu tr·ªçn g√≥i</div>
            <div class="ef-item"><i class="fas fa-check"></i> H√≥a ƒë∆°n VAT, thanh to√°n linh ho·∫°t</div>
            <div class="ef-item"><i class="fas fa-check"></i> Thay xe backup ngay khi c√≥ s·ª± c·ªë</div>
        </div>

        <div class="enterprise-cta">
            <a href="#booking-section" class="btn-book enterprise-btn"
                onclick="document.querySelector('[name=pickup]').value='[Doanh nghi·ªáp] '; document.querySelector('[name=pickup]').focus()">
                <i class="fas fa-phone-volume"></i> Li√™n h·ªá t∆∞ v·∫•n doanh nghi·ªáp
            </a>
            <p class="enterprise-note">Hotline: <strong>1900 xxxx</strong> ¬∑ Email: <strong>b2b@travelcar.vn</strong>
            </p>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="section section-alt">
        <div class="section-header">
            <span class="pill">‚ú® Quy tr√¨nh</span>
            <h2>ƒê·∫∑t Xe Ch·ªâ 3 B∆∞·ªõc</h2>
            <p>ƒê∆°n gi·∫£n, nhanh ch√≥ng, kh√¥ng c·∫ßn ƒë·ª£i</p>
        </div>
        <div id="steps-grid" class="steps-grid">
            <!-- Rendered by JS -->
        </div>
    </section>

    <!-- TRA C·ª®U ƒê∆†N -->
    <section class="section" id="lookup-section">
        <div class="section-header">
            <span class="pill">üîç Tra c·ª©u</span>
            <h2>Tra C·ª©u ƒê∆°n ƒê·∫∑t Xe</h2>
            <p>Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i ƒë·ªÉ xem tr·∫°ng th√°i ƒë∆°n c·ªßa b·∫°n</p>
        </div>
        <div class="lookup-card">
            <form id="lookup-form" class="lookup-form">
                <div class="lookup-input-wrap">
                    <i class="fas fa-phone"></i>
                    <input type="tel" id="lookup-phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i..." required>
                </div>
                <button type="submit" class="btn-book lookup-btn"><i class="fas fa-search"></i> Tra c·ª©u</button>
            </form>
            <div id="lookup-results" class="lookup-results"></div>
        </div>
    </section>

    <!-- CTA - DRIVER REGISTRATION -->
    <section class="cta-section">
        <div class="cta-box">
            <h2>Tr·ªü Th√†nh ƒê·ªëi T√°c T√†i X·∫ø</h2>
            <p>ƒêƒÉng k√Ω mi·ªÖn ph√≠ 100% v√† nh·∫≠n cu·ªëc xe t·ª± ƒë·ªông. H·ªá th·ªëng matching th√¥ng minh gh√©p kh√°ch g·∫ßn nh·∫•t. B·∫°n ch·∫°y
                bao nhi√™u h∆∞·ªüng b·∫•y nhi√™u.</p>
            <a href="driver-register.html" class="btn-cta"><i class="fas fa-handshake"></i> ƒêƒÉng k√Ω ngay</a>
        </div>
    </section>

    <!-- BOOKING CONFIRMATION MODAL -->
    <div id="booking-modal" class="modal-overlay">
        <div class="modal-card">
            <button class="modal-close" onclick="closeBookingModal()">&times;</button>
            <div id="modal-content">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-grid">
            <div>
                <div class="footer-logo">Travel<span>Car</span></div>
                <p>D·ªãch v·ª• ƒë·∫∑t xe du l·ªãch chuy√™n nghi·ªáp h√†ng ƒë·∫ßu Vi·ªát Nam. Gi√° minh b·∫°ch, t√†i x·∫ø chuy√™n nghi·ªáp, h·ªá th·ªëng
                    matching t·ª± ƒë·ªông.</p>
            </div>
            <div>
                <h4>D·ªãch v·ª•</h4>
                <a href="#vehicles-section">Xe 4 ch·ªó & 7 ch·ªó</a>
                <a href="#vehicles-section">Limousine Cao C·∫•p</a>
                <a href="#vehicles-section">Xe Van 16 ch·ªó</a>
                <a href="#vehicles-section">Xe ƒêo√†n 29-45 ch·ªó</a>
                <a href="#pricing-section">B·∫£ng gi√°</a>
            </div>
            <div>
                <h4>ƒê·ªëi t√°c & Th√¥ng tin</h4>
                <a href="driver-register.html">ƒêƒÉng k√Ω t√†i x·∫ø</a>
                <a href="about.html">V·ªÅ ch√∫ng t√¥i</a>
                <a href="#lookup-section">Tra c·ª©u ƒë∆°n</a>
                <a href="policy.html">Ch√≠nh s√°ch</a>
            </div>
            <div>
                <h4>Li√™n h·ªá</h4>
                <a href="#"><i class="fas fa-phone"></i> 1900 xxxx</a>
                <a href="#"><i class="fas fa-envelope"></i> info@travelcar.vn</a>
                <a href="#"><i class="fas fa-location-dot"></i> TP. H·ªì Ch√≠ Minh</a>
            </div>
        </div>
        <div class="footer-bottom">
            ¬© 2026 TravelCar. All rights reserved. ¬∑ <a href="admin.html" class="footer-admin-link"><i
                    class="fas fa-lock"></i> Admin</a>
        </div>
    </footer>

    <!-- NOTIFICATION CONTAINER -->
    <!-- (Created dynamically by JS) -->
    <!-- RATING MODAL -->
    <div class="modal-overlay" id="rating-modal">
        <div class="modal-card" style="max-width:400px; text-align:center">
            <button class="modal-close" onclick="closeRatingModal()"><i class="fas fa-times"></i></button>
            <div class="modal-success-icon" style="background:rgba(255,152,0,0.15); color:#ff9800"><i
                    class="fas fa-star"></i></div>
            <h3 class="modal-title">ƒê√°nh Gi√° Chuy·∫øn ƒêi</h3>
            <p class="modal-subtitle" id="rating-route" style="margin-bottom:10px; color:#fff; font-weight:600">SGN ->
                VCA</p>

            <p style="font-size: .85rem; color:rgba(255,255,255,0.6)">ƒê√°nh gi√° ƒë·ªÉ gi√∫p ch√∫ng t√¥i c·∫£i thi·ªán d·ªãch v·ª•</p>

            <div class="rating-stars" id="rating-stars">
                <i class="far fa-star" data-val="1"></i>
                <i class="far fa-star" data-val="2"></i>
                <i class="far fa-star" data-val="3"></i>
                <i class="far fa-star" data-val="4"></i>
                <i class="far fa-star" data-val="5"></i>
            </div>

            <div class="form-group" style="text-align:left; margin-top:20px">
                <label>Nh·∫≠n x√©t th√™m (kh√¥ng b·∫Øt bu·ªôc)</label>
                <textarea id="rating-review" rows="3" placeholder="Chia s·∫ª tr·∫£i nghi·ªám c·ªßa b·∫°n..."></textarea>
            </div>

            <input type="hidden" id="rating-booking-id">

            <button class="modal-btn-primary" style="width:100%; margin-top:16px" onclick="submitRating()"
                id="btn-submit-rating">G·ª≠i ƒê√°nh Gi√°</button>
        </div>
    </div>

    <!-- FLOATING CTA SIDEBAR -->
    <div class="cta-sidebar" id="cta-sidebar">
        <!-- ƒê·∫∑t xe -->
        <div class="cta-widget" id="cta-booking">
            <div class="cta-label" onclick="toggleCtaWidget('cta-booking')">
                <span class="cta-label-icon">üöó</span>
                <span class="cta-label-text">ƒê·∫∑t xe</span>
            </div>
            <div class="cta-badge">
                <div class="cta-badge-header">
                    <span>üöó ƒê·∫∑t Xe Ngay</span>
                    <button class="cta-badge-close" onclick="toggleCtaWidget('cta-booking')">&times;</button>
                </div>
                <p>ƒê·∫∑t xe du l·ªãch nhanh ch√≥ng, gi√° t·ªët nh·∫•t. Xe 4-7 ch·ªó s·∫µn s√†ng 24/7.</p>
                <a href="#booking-section" class="cta-badge-btn cta-btn-primary" onclick="closeAllWidgets()">ƒê·∫∑t xe
                    ngay</a>
            </div>
        </div>

        <!-- ƒêƒÉng k√Ω t√†i x·∫ø -->
        <div class="cta-widget" id="cta-driver">
            <div class="cta-label" onclick="toggleCtaWidget('cta-driver')">
                <span class="cta-label-icon">ü§ù</span>
                <span class="cta-label-text">T√†i x·∫ø</span>
            </div>
            <div class="cta-badge">
                <div class="cta-badge-header">
                    <span>ü§ù ƒê·ªëi T√°c T√†i X·∫ø</span>
                    <button class="cta-badge-close" onclick="toggleCtaWidget('cta-driver')">&times;</button>
                </div>
                <p>ƒêƒÉng k√Ω mi·ªÖn ph√≠, nh·∫≠n cu·ªëc xe t·ª± ƒë·ªông. Thu nh·∫≠p h·∫•p d·∫´n m·ªói ng√†y.</p>
                <a href="driver-register.html" class="cta-badge-btn cta-btn-driver">ƒêƒÉng k√Ω ngay</a>
            </div>
        </div>

        <!-- Zalo -->
        <div class="cta-widget" id="cta-zalo">
            <div class="cta-label" onclick="toggleCtaWidget('cta-zalo')">
                <span class="cta-label-icon cta-zalo-icon">Z</span>
                <span class="cta-label-text">Zalo</span>
            </div>
            <div class="cta-badge">
                <div class="cta-badge-header">
                    <span>üí¨ Chat Zalo</span>
                    <button class="cta-badge-close" onclick="toggleCtaWidget('cta-zalo')">&times;</button>
                </div>
                <p>Nh·∫Øn tin t∆∞ v·∫•n tr·ª±c ti·∫øp qua Zalo. H·ªó tr·ª£ nhanh trong 5 ph√∫t.</p>
                <a href="https://zalo.me/0901234567" target="_blank" rel="noopener noreferrer"
                    class="cta-badge-btn cta-btn-zalo">M·ªü Zalo</a>
            </div>
        </div>

        <!-- Li√™n h·ªá ngay -->
        <div class="cta-widget" id="cta-call">
            <div class="cta-label" onclick="toggleCtaWidget('cta-call')">
                <span class="cta-label-icon">üìû</span>
                <span class="cta-label-text">G·ªçi ngay</span>
            </div>
            <div class="cta-badge">
                <div class="cta-badge-header">
                    <span>üìû Li√™n H·ªá Ngay</span>
                    <button class="cta-badge-close" onclick="toggleCtaWidget('cta-call')">&times;</button>
                </div>
                <p>Hotline t∆∞ v·∫•n 24/7. G·ªçi ngay ƒë·ªÉ ƒë∆∞·ª£c b√°o gi√° t·ªët nh·∫•t!</p>
                <a href="tel:1900xxxx" class="cta-badge-btn cta-btn-call">1900 XXXX</a>
            </div>
        </div>
    </div>

    <!-- CHATBOT WIDGET -->
    <div id="chatbot-widget" class="chatbot-container">
        <div class="chatbot-toggle" onclick="toggleChatbot()" title="Tr·ª£ l√Ω ·∫£o TravelCar">
            <i class="fas fa-comment-dots"></i>
        </div>
        <div class="chatbot-window">
            <div class="chatbot-header">
                <i class="fas fa-robot"></i> Tr·ª£ l√Ω ·∫£o TravelCar
                <button onclick="toggleChatbot()" title="ƒê√≥ng chat" aria-label="ƒê√≥ng chat"><i
                        class="fas fa-times"></i></button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="chat-msg bot-msg">
                    <div class="msg-bubble">Ch√†o b·∫°n, t√¥i l√† tr·ª£ l√Ω ·∫£o c·ªßa TravelCar. B·∫°n c·∫ßn h·ªó tr·ª£ th√¥ng tin g√¨ v·ªÅ ƒë·∫∑t
                        xe, b·∫£ng gi√° hay quy ƒë·ªãnh?</div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chat-input-text" placeholder="Nh·∫≠p c√¢u h·ªèi (VD: gi√° c∆∞·ªõc)"
                    onkeypress="if(event.key==='Enter') sendChatQuery()">
                <button onclick="sendChatQuery()" title="G·ª≠i c√¢u h·ªèi" aria-label="G·ª≠i c√¢u h·ªèi"><i
                        class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/pricing.js"></script>
    <script src="js/supabase.js"></script>
    <script src="js/app.js"></script>

    <script>
        function escapeHtml(str) {
            if (str == null) return '';
            return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;');
        }

        // Chatbot logic
        function toggleChatbot() {
            document.getElementById('chatbot-widget').classList.toggle('open');
            setTimeout(() => document.getElementById('chat-input-text')?.focus(), 300);
        }

        async function sendChatQuery() {
            const input = document.getElementById('chat-input-text');
            const msgBox = document.getElementById('chatbot-messages');
            const question = input.value.trim();
            if (!question) return;

            // Add user message (escaped)
            msgBox.innerHTML += `<div class="chat-msg user-msg"><div class="msg-bubble">${escapeHtml(question)}</div></div>`;
            input.value = '';
            msgBox.scrollTop = msgBox.scrollHeight;

            // Add typing indicator
            const typingId = 'typing-' + Date.now();
            msgBox.innerHTML += `<div class="chat-msg bot-msg" id="${typingId}"><div class="msg-bubble"><i class="fas fa-spinner fa-spin"></i> ƒêang tr·∫£ l·ªùi...</div></div>`;
            msgBox.scrollTop = msgBox.scrollHeight;

            try {
                const res = await fetch(`${SUPABASE_URL}/functions/v1/chatbot-faq`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${SUPABASE_ANON_KEY}` },
                    body: JSON.stringify({ question })
                });
                const data = await res.json();

                document.getElementById(typingId)?.remove();

                if (data.answer) {
                    // Escape then convert newlines to <br> for display
                    msgBox.innerHTML += `<div class="chat-msg bot-msg"><div class="msg-bubble">${escapeHtml(data.answer).replace(/\n/g, '<br>')}</div></div>`;
                } else {
                    msgBox.innerHTML += `<div class="chat-msg bot-msg"><div class="msg-bubble">Xin l·ªói, t√¥i ch∆∞a hi·ªÉu √Ω b·∫°n. Vui l√≤ng g·ªçi Hotline ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£.</div></div>`;
                }
            } catch (e) {
                document.getElementById(typingId)?.remove();
                msgBox.innerHTML += `<div class="chat-msg bot-msg"><div class="msg-bubble">L·ªói k·∫øt n·ªëi m√°y ch·ªß, vui l√≤ng th·ª≠ l·∫°i sau.</div></div>`;
            }
            msgBox.scrollTop = msgBox.scrollHeight;
        }

        // CTA Sidebar logic
        function toggleCtaWidget(id) {
            const widget = document.getElementById(id);
            if (!widget) return;
            const isOpen = widget.classList.contains('open');
            // Close all first
            document.querySelectorAll('.cta-widget.open').forEach(w => w.classList.remove('open'));
            // Toggle current
            if (!isOpen) widget.classList.add('open');
        }

        function closeAllWidgets() {
            document.querySelectorAll('.cta-widget.open').forEach(w => w.classList.remove('open'));
        }

        // Auto-collapse CTA sidebar on scroll
        let ctaScrollTimer;
        window.addEventListener('scroll', function () {
            const sidebar = document.getElementById('cta-sidebar');
            if (!sidebar) return;
            sidebar.classList.add('collapsed');
            clearTimeout(ctaScrollTimer);
            ctaScrollTimer = setTimeout(() => {
                sidebar.classList.remove('collapsed');
            }, 1200);
        }, { passive: true });
    </script>
</body>

</html>